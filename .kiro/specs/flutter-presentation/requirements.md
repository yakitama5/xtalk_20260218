# 要件定義書

## はじめに

XTalk20260218プロジェクトにおいて、flutter_deckパッケージを使用したエンジニアリング向けライトニングトーク（LT）用プレゼンテーションを実装する。テーマは「不要な機能実装のコスト」について、6枚のスライドで構成される。

## 用語集

- **Flutter_Deck**: Flutterベースのプレゼンテーション作成パッケージ
- **StatefulWidget**: 状態を持つFlutterウィジェット
- **Material_Design**: Googleが開発したデザインシステム
- **LT**: ライトニングトーク（短時間プレゼンテーション）
- **Figma**: UIデザインツール
- **Pagination**: ページネーション（ページ分割表示）

## 要件

### 要件1: プレゼンテーション基盤の構築

**ユーザーストーリー:** エンジニアとして、flutter_deckパッケージを使用したプレゼンテーションを表示したい。そうすることで、技術的な内容を効果的に伝えることができる。

#### 受入基準

1. WHEN flutter_deckパッケージが導入されたとき、THE システム SHALL ダークテーマ（背景色: #121212）でプレゼンテーションを表示する
2. WHEN プレゼンテーションが起動されたとき、THE システム SHALL 6枚のスライドを順序通りに表示する
3. WHEN カラーパレットが適用されるとき、THE システム SHALL ディープブルー（プライマリ）、赤/オレンジ（警告）、緑（成功）、白/ライトグレー（テキスト）を使用する
4. THE システム SHALL 外部画像ファイル（.png/.jpg）を使用せず、すべてFlutterウィジェットで視覚要素を実装する

### 要件2: タイトルスライドの実装

**ユーザーストーリー:** 発表者として、インパクトのあるタイトルスライドを表示したい。そうすることで、聴衆の注意を引き、プレゼンテーションのテーマを明確に伝えることができる。

#### 受入基準

1. WHEN タイトルスライドが表示されるとき、THE システム SHALL "その矢印アイコン、\n実装コストは100万円です"をメインタイトルとして表示する
2. WHEN タイトルスライドが表示されるとき、THE システム SHALL "ユーザーニーズのない機能に全力投球しないための防衛術"をサブタイトルとして表示する
3. WHEN タイトルスライドが表示されるとき、THE システム SHALL 発表者名のプレースホルダーを表示する
4. WHEN 背景装飾が適用されるとき、THE システム SHALL 大きな半透明のIcons.arrow_drop_downアイコンを劇的効果として配置する

### 要件3: 問題提起スライド（Figmaモックアップ）の実装

**ユーザーストーリー:** エンジニアとして、実際のUI設計における問題点を視覚的に示したい。そうすることで、仕様の落とし穴を具体的に理解してもらうことができる。

#### 受入基準

1. WHEN 問題提起スライドが表示されるとき、THE システム SHALL 左右分割レイアウト（左: UIウィジェット、右: テキスト）を表示する
2. WHEN FigmaMockupWidgetが表示されるとき、THE システム SHALL テーブルUI（ヘッダー: [ID, Name, CreatedAt, Status ▼]）を表示する
3. WHEN テーブルが表示されるとき、THE システム SHALL Statusカラムを赤色でハイライト表示する
4. WHEN テーブルが表示されるとき、THE システム SHALL 5行のダミーデータを表示する
5. WHEN ページネーションフッターが表示されるとき、THE システム SHALL "1-10 of 1,000,000"と< >ナビゲーションアイコンを表示する
6. WHEN 右側テキストが表示されるとき、THE システム SHALL 計算フィールドソートの問題について説明テキストを表示する

### 要件4: 技術的課題フロー図の実装

**ユーザーストーリー:** エンジニアとして、技術的な問題の流れを図解で示したい。そうすることで、実装の複雑さと問題点を視覚的に理解してもらうことができる。

#### 受入基準

1. WHEN 技術的課題スライドが表示されるとき、THE システム SHALL ProcessFlowWidgetを使用して縦/横フロー図を表示する
2. WHEN フロー図が表示されるとき、THE システム SHALL データベースアイコン（Icons.storage）と"100万件"テキストを表示する
3. WHEN フロー図が表示されるとき、THE システム SHALL 赤色カード"全件フェッチ & メモリ内計算"を表示する
4. WHEN フロー図が表示されるとき、THE システム SHALL "ソート & 10件抽出"カードを表示する
5. WHEN フロー図が表示されるとき、THE システム SHALL 赤色タイマーアイコンと"Time Out / High Load"を表示する
6. WHEN フロー要素間が表示されるとき、THE システム SHALL 矢印で接続して流れを示す

### 要件5: コスト見積もりカードの実装

**ユーザーストーリー:** エンジニアとして、異なる実装アプローチのコストを比較表示したい。そうすることで、技術的選択肢とそのコストを明確に伝えることができる。

#### 受入基準

1. WHEN コスト見積もりスライドが表示されるとき、THE システム SHALL 3カラムレイアウトでCardウィジェットを表示する
2. WHEN Plan Aカードが表示されるとき、THE システム SHALL "Plan A (Force)" - Priceless - Icons.dangerous（赤色）を表示する
3. WHEN Plan Bカードが表示されるとき、THE システム SHALL "Plan B (Batch)" - 50万円~ - Icons.build（オレンジ色）を表示する
4. WHEN Plan Cカードが表示されるとき、THE システム SHALL "Plan C (Search Engine)" - 100万円~ - Icons.cloud_upload（黄色）を表示する

### 要件6: インタラクティブチャットデモの実装

**ユーザーストーリー:** エンジニアとして、問題解決のプロセスをインタラクティブに演出したい。そうすることで、コミュニケーションの重要性を体験的に理解してもらうことができる。

#### 受入基準

1. WHEN インタラクティブチャットスライドが表示されるとき、THE システム SHALL StatefulWidgetとしてInteractiveChatSlideを実装する
2. WHEN 初期状態が表示されるとき、THE システム SHALL 空のチャットリストと"仕様確認を送る"ボタンを表示する
3. WHEN ボタンがクリックされたとき、THE システム SHALL 右側（自分）メッセージ"このソート、実装コスト激高です。必須ですか？"を追加する
4. WHEN メッセージ送信後、THE システム SHALL "入力中..."インジケーターを表示する
5. WHEN 5秒待機後、THE システム SHALL 左側（クライアント）返信"あ、コピペしただけなんで消していいですよ！"を追加する
6. WHEN 返信完了後、THE システム SHALL 中央にアニメーション付きスタンプ"Cost: ¥0"を表示する

### 要件7: まとめスライドの実装

**ユーザーストーリー:** 発表者として、プレゼンテーションの要点をまとめて表示したい。そうすることで、聴衆に重要なメッセージを印象付けることができる。

#### 受入基準

1. WHEN まとめスライドが表示されるとき、THE システム SHALL 大きな中央揃えテキストレイアウトを表示する
2. WHEN メインメッセージが表示されるとき、THE システム SHALL "Before Coding, Ask 'Why?'"を表示する
3. WHEN 箇条書きが表示されるとき、THE システム SHALL "Figma != 仕様"を表示する
4. WHEN 箇条書きが表示されるとき、THE システム SHALL "違和感 = 会話のチャンス"を表示する
5. WHEN 箇条書きが表示されるとき、THE システム SHALL "作らない勇気を持とう"を表示する

### 要件9: アニメーション効果の実装

**ユーザーストーリー:** 発表者として、スライド内の要素表示とページ遷移にアニメーション効果を適用したい。そうすることで、プレゼンテーションをより魅力的で理解しやすくすることができる。

#### 受入基準

1. WHEN スライド内の要素が表示されるとき、THE システム SHALL フェードイン、スライドイン、またはスケールアニメーションを適用する
2. WHEN スライド間の遷移が発生するとき、THE システム SHALL スムーズなページ遷移アニメーションを適用する
3. WHEN インタラクティブ要素が操作されるとき、THE システム SHALL 適切なフィードバックアニメーションを表示する
4. WHEN アニメーションが実行されるとき、THE システム SHALL 適切な継続時間（200-500ms）を設定する
5. WHEN 複数の要素が順次表示されるとき、THE システム SHALL 段階的なアニメーション（staggered animation）を適用する

**ユーザーストーリー:** 開発者として、保守しやすいコード構造でプレゼンテーションを実装したい。そうすることで、将来的な修正や拡張が容易になる。

#### 受入基準

1. WHEN プロジェクト構造が作成されるとき、THE システム SHALL lib/slides/ディレクトリにスライドファイルを配置する
2. WHEN プロジェクト構造が作成されるとき、THE システム SHALL lib/widgets/ディレクトリに再利用可能ウィジェットを配置する
3. WHEN flutter_deckパッケージが設定されるとき、THE システム SHALL 最新バージョンを使用する
4. WHEN Material Designアイコンが使用されるとき、THE システム SHALL 適切なアイコンを選択して使用する
### 要件8: プロジェクト構造とコード組織化

**ユーザーストーリー:** 開発者として、保守しやすいコード構造でプレゼンテーションを実装したい。そうすることで、将来的な修正や拡張が容易になる。

#### 受入基準

1. WHEN プロジェクト構造が作成されるとき、THE システム SHALL lib/slides/ディレクトリにスライドファイルを配置する
2. WHEN プロジェクト構造が作成されるとき、THE システム SHALL lib/widgets/ディレクトリに再利用可能ウィジェットを配置する
3. WHEN flutter_deckパッケージが設定されるとき、THE システム SHALL 最新バージョンを使用する
4. WHEN Material Designアイコンが使用されるとき、THE システム SHALL 適切なアイコンを選択して使用する
5. WHEN 状態管理が必要なとき、THE システム SHALL StatefulWidgetを適切に実装する

### 要件9: アニメーション効果の実装

**ユーザーストーリー:** 発表者として、スライド内の要素表示とページ遷移にアニメーション効果を適用したい。そうすることで、プレゼンテーションをより魅力的で理解しやすくすることができる。

#### 受入基準

1. WHEN スライド内の要素が表示されるとき、THE システム SHALL フェードイン、スライドイン、またはスケールアニメーションを適用する
2. WHEN スライド間の遷移が発生するとき、THE システム SHALL スムーズなページ遷移アニメーションを適用する
3. WHEN インタラクティブ要素が操作されるとき、THE システム SHALL 適切なフィードバックアニメーションを表示する
4. WHEN アニメーションが実行されるとき、THE システム SHALL 適切な継続時間（200-500ms）を設定する
5. WHEN 複数の要素が順次表示されるとき、THE システム SHALL 段階的なアニメーション（staggered animation）を適用する
